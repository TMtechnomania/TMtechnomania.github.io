.timer-modal-backdrop {
	position: fixed;
	inset: 0;
	display: flex;
	align-items: flex-end;
	justify-content: center;
	background: none;
	pointer-events: none;
	z-index: 200000;
}

.timer-modal {
	width: calc(360px * var(--ui-scale));
	max-width: 92vw;
	max-height: 70vh;
	overflow: auto;
	background: var(--color-base);
	border-radius: var(--radius-3);
	padding: var(--dis-1);
	display: flex;
	flex-direction: column;
	gap: var(--dis-xs);
	font-family: var(--font-family);
	position: relative;
	margin-bottom: calc(var(--dis-6) + var(--dis-xs));
	pointer-events: auto;
}

.timer-tabs {
	display: flex;
	gap: var(--dis-xs);
	margin-top: auto;
	align-self: stretch;
	padding: var(--dis-xs);
	border-radius: var(--radius-3);
	background: var(--color-off);
	align-items: center;
}

.timer-tab {
	flex: 1 1 0px;
	width: 0;
	text-align: center;
	padding: var(--dis-xs);
	border-radius: var(--radius-full);
	cursor: pointer;
	background: transparent;
	color: var(--text-base);
	font-family: var(--font-family);
	font-size: calc(0.95rem * var(--ui-scale));
	font-weight: 500;
}

.timer-tab.active {
	background: var(--color-base);
}

.timer-body {
	display: flex;
	flex-direction: column;
	gap: var(--dis-xs);
	align-items: center;
}

.timer-display-wrap {
	position: relative;
	width: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
}

.edit-btn {
	position: absolute;
	left: var(--dis-xs);
	top: var(--dis-xs);
	pointer-events: auto;
	background: transparent;
	border: none;
	padding: 0;
	cursor: pointer;
	width: var(--dis-5);
	height: var(--dis-5);
	border-radius: 50%;
}

.edit-btn .ui-icon {
	width: 60%;
	height: 60%;
}

.custom-time-input-inline {
	display: none;
	width: 78%;
	padding: var(--dis-xs);
	border-radius: var(--radius-1);
	border: 1px solid var(--color-off);
	font-size: calc(0.95rem * var(--ui-scale));
	text-align: center;
	color: var(--text-base);
	background: var(--color-off);
	font-family: var(--font-family);
}

.timer-display {
	font-size: calc(4.2rem * var(--ui-scale));
	font-weight: 500;
	color: var(--text-base);
}

.timer-controls {
	display: flex;
	gap: var(--dis-xs);
	align-items: center;
}

.tm-btn {
	display: flex;
	align-items: center;
	justify-content: center;
	height: var(--dis-4);
	width: var(--dis-4);
	min-width: var(--dis-4);
	border-radius: 50%;
	background: transparent;
	cursor: pointer;
	padding: 0;
	border: none;
	font-size: calc(0.95rem * var(--ui-scale));
	font-weight: 500;
}

.tm-btn.primary {
	background: var(--color-accent);
	color: var(--text-invert);
}

.tm-btn .ui-icon {
	width: 50%;
	height: 50%;
}

.tm-btn.alert-btn {
	width: var(--dis-4);
	height: var(--dis-4);
	padding: 0;
	display: inline-grid;
	place-items: center;
}

.tm-btn.alert-btn .ui-icon {
	width: 66%;
	height: 66%;
}

.stopwatch-laps {
	width: 100%;
	display: flex;
	flex-direction: column;
	gap: var(--dis-xs);
	max-height: var(--dis-15);
	overflow: auto;
}

.lap-item {
	display: flex;
	justify-content: space-between;
	padding: var(--dis-1);
	border-radius: var(--radius-1);
	background: var(--color-off);
	font-size: calc(0.95rem * var(--ui-scale));
	color: var(--text-base);
}

.lap-list-empty {
	color: var(--text-off);
	font-size: calc(0.95rem * var(--ui-scale));
	text-align: center;
	padding: var(--dis-1);
}

.presets {
	display: flex;
	flex-wrap: wrap;
	gap: var(--dis-xs);
	width: 100%;
	max-height: 30vh;
	overflow: auto;
}

.preset-btn {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: var(--dis-xs) var(--dis-1);
	border-radius: var(--radius-full);
	cursor: pointer;
	background: var(--color-off);
	border: none;
	box-sizing: border-box;
	flex: 1 1 calc(50% - (var(--dis-xs) / 2));
	min-width: calc(120px * var(--ui-scale));
	height: var(--dis-4);
	color: var(--text-base);
	font-family: var(--font-family);
	font-size: calc(0.95rem * var(--ui-scale));
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.preset-btn > div:first-child {
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	min-width: 0;
	flex: 1;
	text-align: left;
	margin-right: var(--dis-xs);
}

.preset-btn > div:last-child {
	flex-shrink: 0;
}

.custom-time-row {
	display: flex;
	gap: var(--dis-xs);
	width: 100%;
	align-items: center;
}

.custom-time-input {
	flex: 1;
	padding: var(--dis-xs);
	border-radius: var(--radius-1);
	border: 1px solid var(--color-off);
	font-size: calc(0.95rem * var(--ui-scale));
	color: var(--text-base);
	background: var(--color-off);
	font-family: var(--font-family);
}

.custom-time-row .tm-btn {
	padding: var(--dis-xs) var(--dis-1);
}

.tm-close {
	position: absolute;
	right: var(--dis-2);
	top: var(--dis-1);
	width: var(--dis-4);
	height: var(--dis-4);
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 50%;
	background: var(--color-off);
	color: var(--text-base);
	cursor: pointer;
	padding: 0;
}

.tm-close .ui-icon {
	width: 55%;
	height: 55%;
}

@media (max-width: 420px) {
	.timer-modal {
		width: 92vw;
		padding: var(--dis-2);
	}
	.timer-display {
		font-size: calc(3.2rem * var(--ui-scale));
	}
}
