:root {
	/* UI Scale - Master multiplier for all sizing */
	--ui-scale: 1;

	/* Distance Variables - 0.5rem increments from 0.5rem to 20rem */
	--dis-xs: calc(0.25rem * var(--ui-scale));
	--dis-1: calc(0.5rem * var(--ui-scale));
	--dis-2: calc(1rem * var(--ui-scale));
	--dis-3: calc(1.5rem * var(--ui-scale));
	--dis-4: calc(2rem * var(--ui-scale));
	--dis-5: calc(2.5rem * var(--ui-scale));
	--dis-6: calc(3rem * var(--ui-scale));
	--dis-7: calc(3.5rem * var(--ui-scale));
	--dis-8: calc(4rem * var(--ui-scale));
	--dis-9: calc(4.5rem * var(--ui-scale));
	--dis-10: calc(5rem * var(--ui-scale));
	--dis-11: calc(5.5rem * var(--ui-scale));
	--dis-12: calc(6rem * var(--ui-scale));
	--dis-13: calc(6.5rem * var(--ui-scale));
	--dis-14: calc(7rem * var(--ui-scale));
	--dis-15: calc(7.5rem * var(--ui-scale));
	--dis-16: calc(8rem * var(--ui-scale));
	--dis-17: calc(8.5rem * var(--ui-scale));
	--dis-18: calc(9rem * var(--ui-scale));
	--dis-19: calc(9.5rem * var(--ui-scale));
	--dis-20: calc(10rem * var(--ui-scale));
	--dis-21: calc(10.5rem * var(--ui-scale));
	--dis-22: calc(11rem * var(--ui-scale));
	--dis-23: calc(11.5rem * var(--ui-scale));
	--dis-24: calc(12rem * var(--ui-scale));
	--dis-25: calc(12.5rem * var(--ui-scale));
	--dis-26: calc(13rem * var(--ui-scale));
	--dis-27: calc(13.5rem * var(--ui-scale));
	--dis-28: calc(14rem * var(--ui-scale));
	--dis-29: calc(14.5rem * var(--ui-scale));
	--dis-30: calc(15rem * var(--ui-scale));
	--dis-31: calc(15.5rem * var(--ui-scale));
	--dis-32: calc(16rem * var(--ui-scale));
	--dis-33: calc(16.5rem * var(--ui-scale));
	--dis-34: calc(17rem * var(--ui-scale));
	--dis-35: calc(17.5rem * var(--ui-scale));
	--dis-36: calc(18rem * var(--ui-scale));
	--dis-37: calc(18.5rem * var(--ui-scale));
	--dis-38: calc(19rem * var(--ui-scale));
	--dis-39: calc(19.5rem * var(--ui-scale));
	--dis-40: calc(20rem * var(--ui-scale));

	/* Width Variables - 4rem increments from 4rem to 160rem */
	--width-1: calc(4rem * var(--ui-scale));
	--width-2: calc(8rem * var(--ui-scale));
	--width-3: calc(12rem * var(--ui-scale));
	--width-4: calc(16rem * var(--ui-scale));
	--width-5: calc(20rem * var(--ui-scale));
	--width-6: calc(24rem * var(--ui-scale));
	--width-7: calc(28rem * var(--ui-scale));
	--width-8: calc(32rem * var(--ui-scale));
	--width-9: calc(36rem * var(--ui-scale));
	--width-10: calc(40rem * var(--ui-scale));
	--width-11: calc(44rem * var(--ui-scale));
	--width-12: calc(48rem * var(--ui-scale));
	--width-13: calc(52rem * var(--ui-scale));
	--width-14: calc(56rem * var(--ui-scale));
	--width-15: calc(60rem * var(--ui-scale));
	--width-16: calc(64rem * var(--ui-scale));
	--width-17: calc(68rem * var(--ui-scale));
	--width-18: calc(72rem * var(--ui-scale));
	--width-19: calc(76rem * var(--ui-scale));
	--width-20: calc(80rem * var(--ui-scale));
	--width-21: calc(84rem * var(--ui-scale));
	--width-22: calc(88rem * var(--ui-scale));
	--width-23: calc(92rem * var(--ui-scale));
	--width-24: calc(96rem * var(--ui-scale));
	--width-25: calc(100rem * var(--ui-scale));
	--width-26: calc(104rem * var(--ui-scale));
	--width-27: calc(108rem * var(--ui-scale));
	--width-28: calc(112rem * var(--ui-scale));
	--width-29: calc(116rem * var(--ui-scale));
	--width-30: calc(120rem * var(--ui-scale));
	--width-31: calc(124rem * var(--ui-scale));
	--width-32: calc(128rem * var(--ui-scale));
	--width-33: calc(132rem * var(--ui-scale));
	--width-34: calc(136rem * var(--ui-scale));
	--width-35: calc(140rem * var(--ui-scale));
	--width-36: calc(144rem * var(--ui-scale));
	--width-37: calc(148rem * var(--ui-scale));
	--width-38: calc(152rem * var(--ui-scale));
	--width-39: calc(156rem * var(--ui-scale));
	--width-40: calc(160rem * var(--ui-scale));

	/* Component Width Variable (legacy) */
	--width-widget: calc(17.5rem * var(--ui-scale));

	/* Border Radius Variables */
	--radius-container: calc(var(--dis-7) / 2);
	--radius-child: calc(var(--dis-5) / 2);
	--radius-xs: calc(var(--dis-3) / 2);
	--radius-full: 999px;

	/* Z-Index Layers - Core stacking order */
	/* wallpaper */
	--z-wallpaper: -1;
	/* searchbar / clock / greeting / date */
	--z-widget: 9;
	/* famcam */
	--z-famcam: 99;
	/* action bar */
	--z-ui: 100;
	/* modals / panels / ribbons created by action bar */
	--z-panel: 199;
	--z-modal: 199;
	/* zen mode (top) */
	--z-zen: 499;
	--z-high-priority: var(--z-zen);

	/* Helper aliases (inner stack helpers; keep simple defaults) */
	--z-overlay: var(--z-panel);
	--z-preview: var(--z-famcam);
	--z-topmost: var(--z-panel);

	/* Transition Variables */
	--transition-fast: 0.15s ease;
	--transition-normal: 0.25s ease;
	--transition-slow: 0.4s ease;

	/* Color Variables - Light Theme (Default) */
	--color-base: #FFFFFF;
	--color-off: #EEF6FF;
	--color-inverse: #000000;
	--color-accent: #0072ff;
	--color-error: #E53935;
	--color-warning: #FB8C00;
	--color-success: #43A047;

	/* Text Color Variables - Light Theme */
	--text-base: #111111;
	--text-off: #333333;
	--text-invert: #FFFFFF;
	--text-accent: #0072ff;

	/* Legacy/Utility Variables */
	--font-family: "Outfit", Arial, Helvetica, sans-serif;
}

/* Dark Theme Override */
[data-theme="dark"] {
	--color-base: #000000;
	--color-off: #111111;
	--color-inverse: #FFFFFF;
	--color-accent: #0072ff;

	--text-base: #FFFFFF;
	--text-off: #CCCCCC;
	--text-invert: #111111;
	--text-accent: #0072ff;
}

/* System Dark Mode (only if no explicit theme is set) */
@media (prefers-color-scheme: dark) {
	:root:not([data-theme="light"]) {
		--color-base: #000000;
		--color-off: #111111;
		--color-inverse: #FFFFFF;
		--color-accent: #0072ff;

		--text-base: #FFFFFF;
		--text-off: #CCCCCC;
		--text-invert: #111111;
		--text-accent: #0072ff;
	}
}

* {
	border: 0;
	box-sizing: border-box;
	margin: 0;
	outline: none;
	padding: 0;
	-webkit-user-drag: none;
	-webkit-user-select: none;
	user-select: none;
}

*::before,
*::after {
	box-sizing: inherit;
}

a, a:hover, a:visited {
	text-decoration: none;
	color: inherit;
}

html,
body {
	height: 100%;
	width: 100%;
	overflow: hidden;
}

body {
	font-family: var(--font-family);
	position: relative;
	background-color: var(--color-base);
	color: var(--text-base);
}

#wallpaper {
	position: fixed;
	inset: 0;
	width: 100%;
	height: 100%;
	object-fit: cover;
	z-index: var(--z-wallpaper);
	transition: opacity var(--transition-slow);
}

#wallpaper.loading {
	opacity: 0;
}

/* Custom Scrollbar Styles */
::-webkit-scrollbar {
	width: var(--dis-1);
	height: var(--dis-1);
}

::-webkit-scrollbar-track {
	background: var(--color-off);
	border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb {
	background: var(--text-off);
	border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
	background: var(--text-base);
}

/* Firefox Scrollbar */
* {
	scrollbar-width: thin;
	scrollbar-color: var(--text-off) var(--color-off);
}

/* ============================================
   BUTTON UTILITY CLASSES
   ============================================ */

.btn {
	align-items: center;
	background: var(--color-off);
	border: none;
	border-radius: var(--radius-full);
	color: var(--text-base);
	cursor: pointer;
	display: flex;
	font-family: var(--font-family);
	font-size: calc(0.875rem * var(--ui-scale));
	font-weight: 500;
	height: var(--dis-5);
	justify-content: center;
	min-width: var(--dis-5);
	padding: var(--dis-1);
	transition: all var(--transition-fast);
}

.btn.btn-small {
	font-size: calc(0.75rem * var(--ui-scale));
	height: var(--dis-4);
	min-width: var(--dis-4);
	padding: var(--dis-xs);
}

.btn:hover {
	background: var(--color-base);
	box-shadow: inset 0 0 0 2px var(--color-off);
	color: var(--text-accent);
}

.btn-display {
	cursor: default;
}

.btn.active,
.btn:active:not(.btn-display) {
	background: var(--color-accent);
	color: var(--text-invert);
}

.btn:focus-visible {
	background: var(--color-off);
}

.btn:disabled,
.btn.disabled {
	opacity: 0.5;
	pointer-events: none;
	cursor: not-allowed;
}

.btn.primary {
	background: var(--color-accent);
	color: var(--text-invert);
}

.btn.primary:hover {
	box-shadow: unset;
	filter: brightness(1.1);
}

.btn span {
	align-items: center;
	display: flex;
	height: var(--dis-3);
	justify-content: center;
	overflow: hidden;
	padding: var(--dis-xs);
	text-overflow: ellipsis;
	white-space: nowrap;
}

.btn:not(.btn-text) span:not(.text):is(:first-child) {
	width: var(--dis-3);
}

.btn:not(.btn-text) span.text {
	flex: 1;
}

.btn:not(.btn-text) :is(span:has(svg, img)) {
	width: var(--dis-3);
}

.btn:not(.btn-text) span:first-child :is(svg, img) {
	aspect-ratio: 1 / 1;
	height: var(--dis-2);
	width: var(--dis-2);
}

/* btn-icon */
.btn.btn-icon {
	aspect-ratio: 1;
}

/* Text-only button */
.btn.btn-text {
	padding: var(--dis-1) var(--dis-2);
	min-width: var(--width-1);
}

/* btn-icon-text */
.btn.btn-icon-text {
	padding: var(--dis-1) var(--dis-2) var(--dis-1) var(--dis-1);
}

.btn span:nth-child(2) {
	justify-content: flex-start;
}


/* === INPUTS === */

.input,
.select,
.textarea {
	background: var(--color-off);
	border: none;
	border-radius: calc(var(--dis-5) / 2);
	color: var(--text-base);
	font-family: var(--font-family);
	font-size: var(--dis-2);
	height: var(--dis-5);
	line-height: var(--dis-5);
	/* Explicit line-height for better rendering */
	padding: 0 var(--dis-3);
	/* Use 0 vertical padding with line-height instead */
	transition: all var(--transition-fast);
	width: 100%;
}

.input:hover,
.select:hover,
.textarea:hover {
	background: var(--color-base);
	box-shadow: inset 0 0 0 1px var(--color-off);
}

.input:focus,
.select:focus,
.textarea:focus {
	background: var(--color-base);
	outline: none;
	box-shadow: inset 0 0 0 1px var(--color-off);
}

.input:disabled,
.select:disabled,
.textarea:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

/* Error state uses color change instead of border */
.input.error,
.select.error,
.textarea.error {
	background: rgba(229, 57, 53, 0.1);
}

.input::placeholder,
.textarea::placeholder {
	color: var(--text-off);
}

.textarea {
	min-height: var(--dis-10);
	resize: vertical;
}

.select {
	display: block;
	cursor: pointer;
	appearance: none;
	width: 100%;
	height: var(--dis-4);
	line-height: var(--dis-4);
	color: var(--text-base);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23888888%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
	background-repeat: no-repeat;
	background-position: right var(--dis-2) center;
	background-size: var(--dis-1) auto;
	padding-right: var(--dis-5);
	padding-left: var(--dis-2);
	/* Remove padding-top/bottom to let line-height center */
	padding-top: 0;
	padding-bottom: 0;
}


.select:hover {
	cursor: pointer;
	appearance: none;
	background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23888888%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
	background-repeat: no-repeat;
	background-position: right var(--dis-2) center;
	background-size: var(--dis-1) auto;
	padding-right: var(--dis-5);
}

.select:focus {
	cursor: pointer;
	appearance: none;
	/* Rotated SVG (180deg) for the opposite state */
	background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23888888%22%20d%3D%22M5.4%20223a17.6%2017.6%200%200%200%2013%205.4h255.6c5%200%209.3-1.8%2012.9-5.4a17.6%2017.6%200%200%200%200-24.8c0-5-1.8-9.3-5.4-12.9L153.6%2057.4a17.8%2017.8%200%200%200-25.6%200L5.4%20185.3c-3.5%203.5-5.4%207.8-5.4%2012.8%200%205%201.9%209.2%205.4%2012.8z%22%2F%3E%3C%2Fsvg%3E");
	background-repeat: no-repeat;
	background-position: right var(--dis-2) center;
	background-size: var(--dis-1) auto;
	padding-right: var(--dis-5);
}

/* === RANGE INPUT === */
.input-range {
	appearance: none;
	-webkit-appearance: none;
	height: var(--dis-xs);
	background: var(--color-base);
	border-radius: var(--radius-full);
	outline: none;
	cursor: pointer;
}

.input-range::-webkit-slider-thumb {
	-webkit-appearance: none;
	width: var(--dis-1);
	height: var(--dis-1);
	background: var(--color-accent);
	border-radius: var(--radius-full);
	cursor: pointer;
	transition: transform 0.1s;
}

.input-range::-webkit-slider-thumb:hover {
	transform: scale(1.15);
}

.input-range::-moz-range-thumb {
	width: var(--dis-1);
	height: var(--dis-1);
	background: var(--color-accent);
	border-radius: var(--radius-full);
	cursor: pointer;
	border: none;
}

/* === ICON LINK (No background) === */

.icon-link {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	color: var(--text-off);
	cursor: pointer;
	transition: color var(--transition-fast);
}

.icon-link:hover {
	color: var(--text-accent);
}



/* ============================================
   STATE CLASSES
   ============================================ */

.is-hidden {
	display: none !important;
}

.is-disabled {
	opacity: 0.5;
	pointer-events: none;
}

.is-error {
	color: var(--color-error);
}

.is-success {
	color: var(--color-success);
}

.is-warning {
	color: var(--color-warning);
}

/* ============================================
   ANIMATIONS
   ============================================ */

@keyframes slideUp {
	from {
		opacity: 0;
		transform: translateY(var(--dis-2));
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideDown {
	from {
		opacity: 1;
		transform: translateY(0);
	}

	to {
		opacity: 0;
		transform: translateY(var(--dis-2));
	}
}

/* Modal animation for centered modals */
@keyframes modalIn {
	from {
		opacity: 0;
		transform: translate(-50%, -48%) scale(0.96);
	}

	to {
		opacity: 1;
		transform: translate(-50%, -50%) scale(1);
	}
}

@keyframes fadeIn {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes fadeOut {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes spin {
	100% {
		transform: rotate(360deg);
	}
}

.animate-slide-up {
	animation: slideUp var(--transition-normal) forwards;
}

.animate-slide-down {
	animation: slideDown var(--transition-normal) forwards;
}

.animate-fade-in {
	animation: fadeIn var(--transition-normal) forwards;
}

.animate-fade-out {
	animation: fadeOut var(--transition-normal) forwards;
}

.animate-spin {
	animation: spin 1s linear infinite;
}

/* === MODAL HEADER === */
.modal-header {
	align-items: center;
	display: flex;
	gap: var(--dis-1);
	justify-content: space-between;
	padding-bottom: var(--dis-2);
	border-bottom: 1px solid var(--color-off);
}

/* .modal-header .modal-title {
	flex: 1;
} */